buildscript {
  repositories {
    mavenLocal()
    mavenCentral()
    maven { url 'https://s01.oss.sonatype.org' }
    gradlePluginPortal()
    
    google()
    maven { url 'https://oss.sonatype.org/content/repositories/snapshots/' }
    maven { url 'https://s01.oss.sonatype.org/content/repositories/snapshots/' }
    jcenter()
  }

}


allprojects {
    group = 'com.retmode'
    version = 'main-SNAPSHOT'

    ext {
        appName = "texelbatch"
        gdxVersion = '1.9.10'
    }
    repositories {
        mavenLocal()
        mavenCentral()
        maven { url 'https://s01.oss.sonatype.org' }
        gradlePluginPortal()
        
        google()
        maven { url 'https://oss.sonatype.org/content/repositories/snapshots/' }
        maven { url 'https://s01.oss.sonatype.org/content/repositories/snapshots/' }
        jcenter()
    }

}





subprojects {
	apply plugin: 'java-library'
	apply plugin: 'maven-publish'
	
	sourceCompatibility = 1.8 // java 8
	targetCompatibility = 1.8

	java {
		withSourcesJar()
	}

	publishing {
		publications {
			maven(MavenPublication) {
				groupId project.group
				artifactId project.name
				version project.version
				from components.java
			}
		}
	}


}

// subprojects {
//     publishing {
// 		publications {
// 			maven(MavenPublication) {
// 				groupId project.group
// 				artifactId project.name
// 				version project.version
// 				from components.java
// 			}
// 		}
// 	}
// }



// buildscript {
//   repositories {
//     mavenLocal()
//     mavenCentral()
//     maven { url 'https://s01.oss.sonatype.org' }
//     gradlePluginPortal()
    
//     google()
//     maven { url 'https://oss.sonatype.org/content/repositories/snapshots/' }
//     maven { url 'https://s01.oss.sonatype.org/content/repositories/snapshots/' }
//   }
//   dependencies {
//     api "com.badlogicgames.gdx:gdx:$gdxVersion"
//   }
// }





// if(JavaVersion.current().isJava9Compatible()) {
//     //compileJava.targetCompatibility = 8
//     allprojects {
//         tasks.withType(JavaCompile) {
//             options.release.set(8)
//         }
//     }
// }

// project(":texelbatch") {
//     apply plugin: "java-library"
//     apply plugin: 'maven-publish'

//     dependencies {
//         api "com.badlogicgames.gdx:gdx:$gdxVersion"
//     }

//     task sourcesJar(type: Jar, dependsOn: classes) {
//         archiveClassifier = 'sources'
//         from sourceSets.main.allSource
//     }

//     artifacts {
//         archives sourcesJar
//     }
// }